(this["webpackJsonpbrie-home-insurance"]=this["webpackJsonpbrie-home-insurance"]||[]).push([[0],{111:function(e,c,t){},121:function(e,c,t){"use strict";t.r(c);var n=t(0),a=t.n(n),r=t(34),i=t.n(r),s=(t(111),t(13)),d=t(98),o=t(177),j=t(17),l=t(181),b=t(172),u=t(167),x=t(183),O=t(184),h=t(185),m=t(179),v=t(186),f=t(190),g=t(188),p=t(187),D=t(178),I=t(127),k=t(189),y=a.a.createContext(),C=t(14),N=t(43),S=t(1),w=function(){var e=Object(n.useState)(!1),c=Object(s.a)(e,2),t=c[0],a=c[1],r=Object(n.useContext)(y),i=Object(s.a)(r,2),d=i[0],o=i[1],w=Object(C.f)(),F=d.data.connectedDevices.length>d.data.currentInsurance.includedDeviceIDs.length,A=function(){a(!1)};return Object(S.jsxs)(l.a,{sx:{paddingTop:2},maxWidth:!1,children:[Object(S.jsxs)(b.a,{open:t,onClose:A,children:[Object(S.jsx)(u.a,{id:"alert-dialog-title",children:"Upgrade Your Insurance Package"}),Object(S.jsx)(x.a,{children:Object(S.jsxs)(O.a,{id:"alert-dialog-description",children:["You can get a discount of"," ",(5.2*(d.data.connectedDevices.length-d.data.currentInsurance.includedDeviceIDs.length)).toFixed(2),d.data.currentInsurance.currency," for the smart device you just added. Do you agree?"]})}),Object(S.jsxs)(h.a,{children:[Object(S.jsx)(D.a,{onClick:A,children:"Disagree"}),Object(S.jsx)(D.a,{onClick:function(){o(Object(j.a)(Object(j.a)({},d),{},{data:Object(j.a)(Object(j.a)({},d.data),{},{currentInsurance:Object(j.a)(Object(j.a)({},d.data.currentInsurance),{},{includedDeviceIDs:d.data.connectedDevices.map((function(e){return e.InstanceID})),discountedPrice:d.data.currentInsurance.discountedPrice-5.2*(d.data.connectedDevices.length-d.data.currentInsurance.includedDeviceIDs.length)})})})),a(!1)},autoFocus:!0,children:"Agree"})]})]}),Object(S.jsxs)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(S.jsx)(m.a,{xs:12,md:6,item:!0,children:Object(S.jsxs)(v.a,{sx:{maxWidth:365},children:[Object(S.jsx)(p.a,{component:"img",alt:"green iguana",height:"200",image:"home-insurance.gif"}),Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(I.a,{color:"primary",variant:"h4",fontWeight:700,component:"div",children:[d.data.currentInsurance.discountedPrice.toFixed(2),"\u20ac / Year"]}),Object(S.jsx)(I.a,{variant:"body2",color:"text.secondary",children:"My Insurance"}),Object(S.jsx)(k.a,{paddingTop:1}),F&&Object(S.jsxs)(I.a,{variant:"body2",sx:{color:N.a[400]},children:["You can get a discount of"," ",(5.2*(d.data.connectedDevices.length-d.data.currentInsurance.includedDeviceIDs.length)).toFixed(2),d.data.currentInsurance.currency," for the smart device you just added."]})]}),Object(S.jsx)(f.a,{children:Object(S.jsx)(D.a,{disabled:!F,onClick:function(){a(!0)},color:"primary",size:"small",children:"Upgrade"})})]})}),Object(S.jsx)(m.a,{xs:12,md:6,item:!0,children:Object(S.jsxs)(v.a,{sx:{maxWidth:365},children:[Object(S.jsxs)(g.a,{children:[Object(S.jsx)(I.a,{color:"primary",variant:"h3",fontWeight:600,component:"div",children:d.data.connectedDevices.length}),Object(S.jsx)(I.a,{variant:"body2",color:"text.secondary",children:"Connected Devices"}),Object(S.jsx)(k.a,{padding:2}),Object(S.jsxs)(I.a,{color:"primary",variant:"h4",fontWeight:700,component:"div",children:[(5.2*d.data.connectedDevices.length).toFixed(2),"\u20ac / Year"]}),Object(S.jsx)(I.a,{variant:"body2",color:"text.secondary",children:"Total Possible Discount"})]}),Object(S.jsx)(f.a,{children:Object(S.jsx)(D.a,{onClick:function(){return w("/devices")},color:"primary",size:"small",children:"Add New Device"})})]})})]})]})},F=t(196),A=t(199),P=t(174),M=t(194),W=t(197),B=t(180),E=t(198),Y=t(95),T=t.n(Y),R=t(67),z=t.n(R),J=t(68),U=t.n(J),H=t(15),L=t(195),q=t(85),G=t.n(q),K=t(191),Q=t(192),V=t(193),X=t(94),Z=t.n(X),$=t(169),_=a.a.forwardRef((function(e,c){return Object(S.jsx)($.a,Object(j.a)({direction:"up",ref:c},e))})),ee=function(){var e=Object(n.useContext)(y),c=Object(s.a)(e,2),t=c[0],r=c[1],i=a.a.useState(!1),d=Object(s.a)(i,2),o=d[0],l=d[1],u=a.a.useState(!1),x=Object(s.a)(u,2),O=x[0],h=x[1],m=a.a.useState([]),v=Object(s.a)(m,2),f=v[0],g=v[1],p=function(){l(!1)};return a.a.useEffect((function(){o&&(h(!0),fetch("http://07b9-2001-16b8-464b-7800-ca5b-76ff-fe4b-bbaf.eu.ngrok.io/list").then((function(e){return e.json()})).then((function(e){console.log(e),g(e),h(!1)})))}),[o]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(K.a,{onClick:function(){l(!0)},sx:{position:"absolute",bottom:76,right:16},color:"primary","aria-label":"add",children:Object(S.jsx)(G.a,{})}),Object(S.jsxs)(b.a,{fullScreen:!0,open:o,onClose:p,TransitionComponent:_,children:[Object(S.jsx)(Q.a,{sx:{position:"relative"},children:Object(S.jsxs)(V.a,{children:[Object(S.jsx)(M.a,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:Object(S.jsx)(Z.a,{})}),Object(S.jsx)(I.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Add Device"})]})}),O?Object(S.jsxs)(k.a,{padding:5,children:[Object(S.jsx)(I.a,{textAlign:"center",variant:"h6",children:"Scanning New Devices..."}),Object(S.jsx)(L.a,{})]}):Object(S.jsx)(F.a,{children:f.map((function(e){return Object(S.jsxs)(P.a,{secondaryAction:Object(S.jsx)(M.a,{onClick:function(){return c=e.InstanceID,console.log(f.filter((function(e){return e.InstanceID===c}))),r(Object(j.a)(Object(j.a)({},t),{},{data:Object(j.a)(Object(j.a)({},t.data),{},{connectedDevices:[].concat(Object(H.a)(t.data.connectedDevices),[f.find((function(e){return e.InstanceID===c}))])})})),void l(!1);var c},edge:"end","aria-label":"add",children:Object(S.jsx)(G.a,{})}),children:[Object(S.jsx)(W.a,{children:Object(S.jsxs)(B.a,{children:["smokealarm"===e.Nickname&&Object(S.jsx)(z.a,{}),"security-camera"===e.Nickname&&Object(S.jsx)(U.a,{})]})}),Object(S.jsx)(E.a,{primary:e.Nickname,secondary:e.InstanceID})]},e.InstanceID)}))})]})]})},ce=function(){var e=Object(n.useContext)(y),c=Object(s.a)(e,2),t=c[0],a=c[1];return Object(S.jsxs)("div",{children:[Object(S.jsxs)(F.a,{children:[Object(S.jsx)(A.a,{children:"Devices"}),t.data.connectedDevices.map((function(e,c){return Object(S.jsxs)(P.a,{secondaryAction:Object(S.jsx)(M.a,{onClick:function(){return c=e.InstanceID,void a(Object(j.a)(Object(j.a)({},t),{},{data:Object(j.a)(Object(j.a)({},t.data),{},{connectedDevices:t.data.connectedDevices.filter((function(e){return e.InstanceID!==c}))})}));var c},edge:"end","aria-label":"delete",children:Object(S.jsx)(T.a,{})}),children:[Object(S.jsx)(W.a,{children:Object(S.jsxs)(B.a,{children:["smokealarm"===e.Nickname&&Object(S.jsx)(z.a,{}),"security-camera"===e.Nickname&&Object(S.jsx)(U.a,{})]})}),Object(S.jsx)(E.a,{primary:e.Nickname,secondary:e.Model})]},c)}))]}),Object(S.jsx)(ee,{})]})},te=t(57),ne=t(200),ae=t(201),re=t(202),ie=t(96),se=t.n(ie),de=t(97),oe=t.n(de),je=t(182),le=t(171),be=t(175);function ue(e){var c=n.useContext(y),t=Object(s.a)(c,1)[0],a=n.useState(0),r=Object(s.a)(a,2),i=r[0],d=r[1],o=n.useRef(null),j=Object(C.f)(),l=Object(C.e)(),b=t.data.connectedDevices.length>t.data.currentInsurance.includedDeviceIDs.length;return n.useEffect((function(){"/"===l.pathname&&d(0),"/devices"===l.pathname&&d(1)}),[l,d]),Object(S.jsxs)(k.a,{sx:{pb:7},ref:o,children:[Object(S.jsx)(ne.a,{}),e.children,Object(S.jsx)(je.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(S.jsxs)(ae.a,{showLabels:!0,value:i,onChange:function(e,c){d(c)},children:[Object(S.jsx)(re.a,{onClick:function(){return j("/")},label:"Home",icon:Object(S.jsx)(be.a,{badgeContent:b?1:0,color:"primary",children:Object(S.jsx)(le.a,{})})}),Object(S.jsx)(re.a,{onClick:function(){return j("/devices")},label:"Devices",icon:Object(S.jsx)(se.a,{})}),Object(S.jsx)(re.a,{label:"Insurance",icon:Object(S.jsx)(oe.a,{})})]})})]})}var xe=Object(d.a)({palette:{mode:"light",primary:{main:"#178cd3"},secondary:{main:"#68bd45"}},overrides:{MuiButton:{root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"}}},props:{MuiAppBar:{color:"default"}}}),Oe=function(){var e=a.a.useState({data:{connectedDevices:[{InstanceID:"smokealarm2",Nickname:"smokealarm",Model:"devreg1-smokealarm-bdxfbd"},{InstanceID:"smokealarm4",Nickname:"smokealarm",Model:"devreg1-smokealarm-bdxfbd"}],currentInsurance:{basePrice:85.4,discountedPrice:75,currency:"\u20ac",includedDeviceIDs:["smokealarm2","smokealarm4"]}}}),c=Object(s.a)(e,2),t=c[0],n=c[1];return Object(S.jsx)(o.a,{theme:xe,children:Object(S.jsx)(y.Provider,{value:[t,n],children:Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(te.a,{children:Object(S.jsxs)(C.c,{children:[Object(S.jsx)(C.a,{path:"/",element:Object(S.jsx)(ue,{children:Object(S.jsx)(w,{})})}),Object(S.jsx)(C.a,{path:"/devices",element:Object(S.jsx)(ue,{children:Object(S.jsx)(ce,{})})})]})})})})})};i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(Oe,{})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.b298d6a2.chunk.js.map